"""
Prompt模板
"""

# 系统提示词
SYSTEM_PROMPT = """你是一个专业的股票分析师，擅长技术分析和基本面分析。
你的分析应该客观、专业，同时考虑用户的投资偏好。
请用中文回复，并使用JSON格式输出分析结果。"""


# 数据结构化提示词（局域网LLM使用）
DATA_STRUCTURE_PROMPT = """你是一个金融数据处理专家。请将以下股票原始数据整理成结构化的分析摘要。

## 原始数据
{raw_data}

## 输出要求
请输出一段结构化的分析摘要，包含：
1. 价格走势特征（趋势方向、支撑位、压力位）
2. 成交量变化特征
3. 技术面关键信号
4. 需要关注的异常点

请直接输出分析摘要文本，不需要JSON格式。
"""


# 股票分析提示词（云端LLM使用）- LLM自主生成策略
STOCK_ANALYSIS_PROMPT = """请作为专业股票分析师，对以下股票进行全面分析，并**自主给出**完整的投资策略建议。

## 股票信息
股票名称: {stock_name}
股票代码: {stock_code}

## 数据摘要
{structured_data}

## 用户参考信息
{user_preference}

## 分析要求
请基于以上数据进行独立分析，自主判断并给出：

### 1. 当日操作建议（日内/短线）
分析今日走势，给出当日操作建议。根据你的专业判断决定建议类型。

### 2. 本周操作建议（波段）
分析周线级别走势，给出本周操作建议。

### 3. 长线操作建议（1-3个月）
分析中长期趋势，给出持仓建议。

### 4. 投资策略建议
请**自主**给出一套完整的投资策略，包括：
- 适合的投资者类型
- 建议的仓位比例
- 风险提示
- 入场和离场条件

## 输出格式
请以JSON格式输出，格式如下：
{{
    "summary": "综合分析摘要（100-200字）",
    "daily": {{
        "trend": "趋势判断（上涨/下跌/震荡）",
        "suggestion": "操作建议（买入/卖出/观望/加仓/减仓/持有）",
        "confidence": 0.75,
        "reason": "分析理由（50-100字）"
    }},
    "weekly": {{
        "trend": "趋势判断",
        "suggestion": "操作建议",
        "confidence": 0.70,
        "reason": "分析理由"
    }},
    "longterm": {{
        "trend": "趋势判断",
        "suggestion": "操作建议",
        "confidence": 0.65,
        "reason": "分析理由"
    }},
    "strategy": {{
        "investor_type": "适合的投资者类型（如：稳健型/激进型/价值型/成长型等）",
        "position_advice": "建议仓位（如：20%-30%）",
        "risk_level": "风险等级（高/中/低）",
        "entry_condition": "入场条件",
        "exit_condition": "离场条件",
        "risk_warning": "主要风险提示"
    }}
}}

注意事项：
1. confidence（置信度）应在0-1之间，表示对建议的把握程度
2. 你的分析应完全基于数据，自主判断，不受任何预设策略模板限制
3. 给出的建议应该具体且可操作，包含价格区间等具体信息
4. 如果用户提供了投资偏好参考，可以参考但不必完全遵循
5. 如果数据不足以做出判断，请降低置信度并说明原因
"""


# 选股策略提示词（待开发功能使用）
STOCK_SCREENING_PROMPT = """根据以下用户需求，帮我确定需要获取哪些数据字段来实现这个选股策略。

## 用户选股需求
{user_requirement}

## 输出要求
请输出JSON格式，包含：
1. 需要的数据字段列表
2. 筛选条件
3. 排序规则

{{
    "required_fields": ["字段1", "字段2", ...],
    "filters": [
        {{"field": "字段名", "operator": ">", "value": 10}},
        ...
    ],
    "sort_by": {{"field": "字段名", "order": "desc"}}
}}
"""
